<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Site 64 Security Department Terminal</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
  body {
    background: black;
    color: white;
    font-family: 'Share Tech Mono', monospace;
    margin: 0;
    padding: 20px;
  }
  header {
    border-bottom: 1px solid white;
    padding-bottom: 10px;
    margin-bottom: 15px;
  }
  #welcome {
    margin-bottom: 15px;
  }
  nav {
    margin-bottom: 15px;
  }
  nav button {
    background: none;
    border: 1px solid white;
    color: white;
    font-family: inherit;
    font-size: 1rem;
    margin-right: 10px;
    padding: 8px 16px;
    cursor: pointer;
  }
  nav button:hover {
    background: white;
    color: black;
  }
  section {
    max-width: 900px;
    margin: auto;
  }
  h2 {
    border-bottom: 1px solid white;
    padding-bottom: 6px;
  }
  a {
    color: #fff;
    text-decoration: underline;
  }
  a:hover {
    color: #ccc;
  }
  .blocked {
    color: #f44336;
    font-style: italic;
  }
  label, input {
    display: block;
    margin-bottom: 10px;
    font-size: 1rem;
  }
  input[type="text"], input[type="number"] {
    background: black;
    border: 1px solid white;
    color: white;
    font-family: inherit;
    padding: 6px;
    width: 200px;
    box-sizing: border-box;
  }
  button.submit {
    margin-top: 10px;
  }
  #top-info {
    font-size: 0.9rem;
    margin-bottom: 15px;
  }
  .access-denied {
    color: #f44336;
    font-weight: bold;
    font-size: 1.2rem;
    margin-top: 20px;
  }
  .redacted {
    background: white;
    color: white;
    border-radius: 2px;
    padding: 0 4px;
    user-select: none;
  }
  ul {
    padding-left: 20px;
  }
</style>
</head>
<body>

<header>
  <div id="top-info"></div>
  <div id="welcome">
    <h1>++Site 64 Security Department Terminal++</h1>
    <p>The Security Department (SD) is a division of the SCP Foundation, consisting of agents tasked with guarding the Foundation's secret bases and containment facilities. Their job duties include preventing containment breaches (SCPs escaping from the site), keeping D-class personnel under control and forcing them to cooperate in laboratory experiments, and defending the site from external attacks by hostile forces (whether that be an enemy Group of Interest or something more anomalous).</p>
  </div>
</header>

<section id="login-section">
  <h2>Verify Clearance</h2>
  <form id="login-form">
    <label for="clearance">Clearance Level (3, 4, or 5):</label>
    <input type="number" id="clearance" name="clearance" min="3" max="5" required />
    <label for="codename">Codename:</label>
    <input type="text" id="codename" name="codename" autocomplete="off" required maxlength="20" />
    <button type="submit" class="submit">Verify</button>
  </form>
  <p id="login-error" style="color:#f44336; display:none;"></p>
</section>

<nav id="main-menu" style="display:none;">
  <button data-section="scp">SCPs</button>
  <button data-section="protocols">Containment Protocols</button>
  <button data-section="personnel">SD Personnel</button>
  <button data-section="sd-lore">SD Lore</button>
  <button data-section="teams">SD Teams</button>
</nav>

<section id="content" style="max-width:900px; margin:auto;"></section>

<script>
  const loginForm = document.getElementById("login-form");
  const loginError = document.getElementById("login-error");
  const loginSection = document.getElementById("login-section");
  const mainMenu = document.getElementById("main-menu");
  const content = document.getElementById("content");
  const topInfo = document.getElementById("top-info");

  let clearanceLevel = 0;
  let codename = "";

  // Agent data
  const agents = {
    "Ratchet": "https://docs.google.com/document/d/19y8PjZXeLRLeM5YRb2OrC5P0a-y_LOkVk4Qapm9vlTI/edit?usp=sharing",
    "Black Dawn": "https://docs.google.com/document/u/0/d/1_EHJ-ut4quezxCJSCrMR4vzMZpouqms10R9xtZA5tUY/mobilebasic",
    "Caelum": "https://docs.google.com/document/d/1u4WypRconLkVQl2Kpyfo_-relGRMSm6kDn3RW5pOSqw/edit?usp=sharing",
    "Forge": "https://docs.google.com/document/d/1ihlLNXQDcQJWf-G8_ok3o8gZuD7j6ADwehyaVd29atw/edit?usp=sharing",
    "Bell": "https://docs.google.com/document/d/1Pe9M_jB5Ak95i-uoy9_3GvBNYkqAnEjyPIlboQxP7pE/edit?usp=sharing",
    "Toxic": "https://docs.google.com/document/d/1lhK-biGd6koGAMax01xtLYSweqGb8fm4fWI4RyZSdMM/edit?usp=sharing"
  };

  // SCP data (simplified summaries)
  const scps = {
    "SCP-099": {
      strengths: "Possesses the ability to create vivid hallucinations; difficult to physically contain.",
      weaknesses: "Affected by psychological containment and isolation protocols.",
      containment: "Must be confined in a soundproof chamber with no visual contact."
    },
    "SCP-173": {
      strengths: "Extremely fast and lethal when unobserved.",
      weaknesses: "Cannot move while in direct line of sight.",
      containment: "Keep in a locked container. Constant observation by at least 3 personnel."
    },
    "SCP-096": {
      strengths: "Becomes violently aggressive when viewed directly.",
      weaknesses: "Avoid any direct eye contact or video recording.",
      containment: "Secure containment area with no cameras or personnel allowed to view face."
    },
    "SCP-457": {
      strengths: "Flame entity, able to incinerate objects.",
      weaknesses: "Can be suppressed by water or fire retardants.",
      containment: "Containment cell with fireproof walls and continuous water spray."
    }
  };

  // Containment Protocols improved sample
  const protocols = `
    <h2>Containment Protocols</h2>
    <p>The Security Department enforces strict containment protocols to ensure SCPs remain secured and personnel safety is maintained.</p>
    <ul>
      <li><strong>Observation:</strong> SCPs must be monitored 24/7 via direct or remote surveillance, with at least two personnel always on duty.</li>
      <li><strong>Access Control:</strong> Only personnel with appropriate clearance levels can access SCP containment areas.</li>
      <li><strong>Emergency Response:</strong> In case of containment breach, lockdown procedures are to be initiated immediately, including site-wide alerts and mobilization of Mobile Task Forces.</li>
      <li><strong>D-Class Handling:</strong> D-class personnel must be controlled at all times to prevent sabotage or escape attempts.</li>
      <li><strong>External Threats:</strong> Defense protocols are in place to repel attacks from hostile Groups of Interest or anomalous threats.</li>
      <li><strong>Communication:</strong> All incidents and protocol breaches must be logged and reported to Site Command immediately.</li>
    </ul>
  `;

  // SD Lore text (updated per your instructions)
  const sdLore = `
    <h2>Security Department Lore</h2>
    <p>The Security Department (SD) is a division of the SCP Foundation, consisting of agents tasked with guarding the Foundation's secret bases and containment facilities.</p>
    <p>Their job duties include preventing containment breaches (SCPs escaping from the site), keeping D-class personnel under control and forcing them to cooperate in laboratory experiments, and defending the site from external attacks by hostile forces (whether that be an enemy Group of Interest or something more anomalous).</p>
  `;

  // SD Teams descriptions
  const sdTeamsData = {
    charlie: {
      name: "Team Charlie",
      description: "Responsible for CDC (Containment and Decontamination Control) and LCZ (Low Containment Zone) work, handling low-risk SCP containment and site sanitation."
    },
    quebec: {
      name: "Team Quebec",
      description: "Operates checkpoints and patrols in the MCZ (Medium Containment Zone) and HCZ (High Containment Zone), maintaining security within these critical containment areas."
    },
    xray: {
      name: "Team Xray",
      description: "Guards the AD (Administrative) checkpoint and provides security for VIP personnel within the facility."
    },
    hotel: {
      name: "Team Hotel",
      description: "An elite unit overseeing advanced security operations and rapid response within the facility."
    },
    stfo: {
      name: "STFO \"Elite Enforcers\"",
      description: `STFO is a specialized task force within the Security Department, known for exceptional PvP skills and rapid tactical response. They are classified as <span class="redacted">████</span>-1, representing one of the most formidable units in the department, operating under strict confidentiality.`
    }
  };

  function updateTopInfo(){
    topInfo.textContent = `Clearance Level: ${clearanceLevel} | Codename: ${codename}`;
  }

  loginForm.addEventListener("submit", e => {
    e.preventDefault();
    const level = Number(document.getElementById("clearance").value);
    const name = document.getElementById("codename").value.trim();
    if (![3,4,5].includes(level)) {
      loginError.textContent = "Access Denied: Clearance level must be 3, 4, or 5.";
      loginError.style.display = "block";
      return;
    }
    if (name === "") {
      loginError.textContent = "Please enter a valid codename.";
      loginError.style.display = "block";
      return;
    }
    clearanceLevel = level;
    codename = name.toUpperCase();
    loginError.style.display = "none";
    loginSection.style.display = "none";
    mainMenu.style.display = "block";
    updateTopInfo();
    showSection("scp");
  });

  mainMenu.addEventListener("click", e => {
    if (e.target.tagName === "BUTTON"){
      const section = e.target.getAttribute("data-section");
      showSection(section);
    }
  });

  function showSection(section) {
    if (section === "scp"){
      showSCPs();
    } else if (section === "protocols"){
      content.innerHTML = protocols;
    } else if (section === "personnel"){
      showPersonnel();
    } else if (section === "sd-lore"){
      content.innerHTML = sdLore;
    } else if (section === "teams"){
      showTeams();
    }
  }

  function showSCPs(){
    let html = "<h2>Secure Containment Procedures</h2>";
    for(const [scp, data] of Object.entries(scps)){
      html += `<h3>${scp}</h3>
      <p><strong>Strengths:</strong> ${data.strengths}</p>
      <p><strong>Weaknesses:</strong> ${data.weaknesses}</p>
      <p><strong>Containment Procedures:</strong> ${data.containment}</p>
      <hr>`;
    }
    content.innerHTML = html;
  }

  function showPersonnel(){
    if (clearanceLevel < 4){
      content.innerHTML = `<p class="access-denied">ACCESS DENIED: Personnel files require clearance level 4 or higher.</p>`;
      return;
    }
    let html = "<h2>SD Personnel</h2><ul>";
    for(const [name, link] of Object.entries(agents)){
      html += `<li><a href="${link}" target="_blank" rel="noopener noreferrer">${name}</a></li>`;
    }
    html += "</ul>";
    content.innerHTML = html;
  }

  function showTeams(){
    if (clearanceLevel < 3){
      content.innerHTML = `<p class="access-denied">ACCESS DENIED: SD Teams require clearance level 3 or higher.</p>`;
      return;
    }
    let html = "<h2>SD Teams</h2><ul>";
    // Always show Charlie, Quebec, Xray for 3+
    html += `<li><strong>${sdTeamsData.charlie.name}:</strong> ${sdTeamsData.charlie.description}</li>`;
    html += `<li><strong>${sdTeamsData.quebec.name}:</strong> ${sdTeamsData.quebec.description}</li>`;
    html += `<li><strong>${sdTeamsData.xray.name}:</strong> ${sdTeamsData.xray.description}</li>`;
    if (clearanceLevel >= 4){
      html += `<li><strong>${sdTeamsData.hotel.name
